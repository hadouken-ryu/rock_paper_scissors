<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock, paper, scissors!</title>
</head>

<body>
    <h1>The <a href="https://en.wikipedia.org/wiki/Rock%E2%80%93paper%E2%80%93scissors">classic game</a> of rock, paper,
        scissors</h1>
    <p>Open up the console in your browser to see the results of each match.</p>
    <p>This page is coded following the instructions at: <a
            href="https://www.theodinproject.com/courses/web-development-101/lessons/rock-paper-scissors">The Odin
            Project</a>.</p>

    <script>
        let playerSelection = prompt('Pick one the three: rock, paper, scissors', 'scissors').toLowerCase();
        // validate that the input is one of the three choices
        // if ( playerSelection != 'rock' || 
                // playerSelection != 'paper' || 
                // playerSelection != 'scissors' ) { throw some error? }


        const computerPlay = function () {
            // return randomly with equal probability one of the three: rock, paper, scissors
            const rnd = Math.random();
            let computerSelection;

            if ( rnd < 1/3 ) {
                computerSelection = 'rock';
            } else if ( rnd < 2/3 ) {
                computerSelection = 'paper';
            } else {
                computerSelection = 'scissors';
            }

            return computerSelection;
        }

        let computerSelection = computerPlay();

        const playRound = function (playerSelection, computerSelection) {
            let endOfMatchMessage = '';
            console.log(playerSelection); //debugging
            console.log(computerSelection); //debugging
            // decide if there is either a draw, or if the player wins/loses
            if ( playerSelection === computerSelection ) {
                endOfMatchMessage = "It's a draw!";
            }
            else if ( playerSelection === 'rock' && computerSelection === 'paper') {
                endOfMatchMessage = 'You Lose! Paper beats Rock';
            }
            else if ( playerSelection === 'rock' && computerSelection === 'scissors') {
                endOfMatchMessage = 'You Win! Rock beats Scissors';
            }
            else if ( playerSelection === 'paper' && computerSelection === 'rock') {
                endOfMatchMessage = 'You Win! Paper beats Rock';
            }
            else if ( playerSelection === 'paper' && computerSelection === 'scissors') {
                endOfMatchMessage = 'You Lose! Scissors beats Paper';
            }
            else if ( playerSelection === 'scissors' && computerSelection === 'rock') {
                endOfMatchMessage = 'You Lose! Rock beats Scissors';
            }
            else if ( playerSelection === 'scissors' && computerSelection === 'paper') {
                endOfMatchMessage = 'You Win! Scissors beats Paper';
            }
            else {
                endOfMatchMessage = 'Something went wrong with my logic!'
            }

            return endOfMatchMessage; // "You Lose! Paper beats Rock"
        }

        console.log(playRound(playerSelection, computerSelection));
    </script>
</body>

</html>